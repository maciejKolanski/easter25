<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Egipski Kr√≥lik</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="game-container">
      <div class="header">
        <h1 id="pharaoh-name">Hoppankhamun</h1>
        <div>Stra≈ºnik Staro≈ºytnych Marchewek</div>
      </div>

      <div class="bunny-container">
        <img src="assets/egypt.jpg" alt="Historical Bunny" class="bunny-image" id="bunnyImage" />
      </div>
      <div class="ancient-header">
        <div style="font-size: 1.2rem">Deszyfrator</div>
        <div class="letter-puzzle">
          <div class="letter-group">
            <div class="letter">ìÑ§</div>
            <input type="text" class="letter-input" maxlength="1" />
          </div>
          <div class="letter-group">
            <div class="letter">ìçØ</div>
            <input type="text" class="letter-input" maxlength="1" />
          </div>
          <div class="letter-group">
            <div class="letter">ìä™</div>
            <input type="text" class="letter-input" maxlength="1" />
          </div>
          <div class="letter-group">
            <div class="letter">ìä™</div>
            <input type="text" class="letter-input" maxlength="1" />
          </div>
          <div class="letter-group">
            <div class="letter">ìÄÄ</div>
            <input type="text" class="letter-input" maxlength="1" />
          </div>
          <div class="letter-group">
            <div class="letter">ìàñ</div>
            <input type="text" class="letter-input" maxlength="1" />
          </div>
          <div class="letter-group">
            <div class="letter">ìé°</div>
            <input type="text" class="letter-input" maxlength="1" />
          </div>
          <div class="letter-group">
            <div class="letter">ìÑ§</div>
            <input type="text" class="letter-input" maxlength="1" />
          </div>
          <div class="letter-group">
            <div class="letter">ìÄÄ</div>
            <input type="text" class="letter-input" maxlength="1" />
          </div>
          <div class="letter-group">
            <div class="letter">ìÖì</div>
            <input type="text" class="letter-input" maxlength="1" />
          </div>
          <div class="letter-group">
            <div class="letter">ìáã</div>
            <input type="text" class="letter-input" maxlength="1" />
          </div>
          <div class="letter-group">
            <div class="letter">ìàñ</div>
            <input type="text" class="letter-input" maxlength="1" />
          </div>
        </div>
      </div>

      <div class="dialog-box">
        <div class="dialog-text" id="dialogText"></div>
      </div>

      <div class="navigation">
        <button class="nav-button hidden" id="nextButton">Id≈∫ do Jajoletesa!</button>
      </div>
    </div>

    <script>
      $(document).ready(function () {
        const latinToHieroglyphMap = {
          // English lowercase letters - using more visually distinct hieroglyphs
          a: 'ìÄÄ', // EGYPTIAN HIEROGLYPH A001 (seated man)
          b: 'ìÉí', // EGYPTIAN HIEROGLYPH E001 (bull)
          c: 'ìÜì', // EGYPTIAN HIEROGLYPH H006 (crocodile)
          d: 'ìáØ', // EGYPTIAN HIEROGLYPH I010 (sun)
          e: 'ìÖ®', // EGYPTIAN HIEROGLYPH G026 (falcon)
          f: 'ìÜ£', // EGYPTIAN HIEROGLYPH I001 (cobra)
          g: 'ìâï', // EGYPTIAN HIEROGLYPH O002 (courtyard)
          h: 'ìÑ§', // EGYPTIAN HIEROGLYPH F004 (ear)
          i: 'ìÇß', // EGYPTIAN HIEROGLYPH D046 (hand)
          j: 'ìÜº', // EGYPTIAN HIEROGLYPH I011 (reed leaf)
          k: 'ìé°', // EGYPTIAN HIEROGLYPH V012 (basket)
          l: 'ìã¥', // EGYPTIAN HIEROGLYPH S029 (folded cloth)
          m: 'ìÖì', // EGYPTIAN HIEROGLYPH G001 (vulture)
          n: 'ìàñ', // EGYPTIAN HIEROGLYPH N035 (water ripple)
          o: 'ìçØ', // EGYPTIAN HIEROGLYPH T023 (loaf)
          p: 'ìä™', // EGYPTIAN HIEROGLYPH Q003 (stool)
          q: 'ìÉª', // EGYPTIAN HIEROGLYPH F001 (heart)
          r: 'ìÇã', // EGYPTIAN HIEROGLYPH D021 (mouth)
          s: 'ìäÉ', // EGYPTIAN HIEROGLYPH O034 (door bolt)
          t: 'ìèè', // EGYPTIAN HIEROGLYPH X001 (loaf)
          u: 'ìáã', // EGYPTIAN HIEROGLYPH M017 (reed)
          v: 'ìÜ±', // EGYPTIAN HIEROGLYPH M001 (tree)
          w: 'ìåÖ', // EGYPTIAN HIEROGLYPH T003 (mace)
          x: 'ìêç', // EGYPTIAN HIEROGLYPH Z015 (crossed sticks)
          y: 'ìáå', // EGYPTIAN HIEROGLYPH M017A (two reeds)
          z: 'ìè¥', // EGYPTIAN HIEROGLYPH Z009 (dual strokes)

          // English uppercase letters - using larger, more prominent hieroglyphs
          A: 'ìÅ∂', // EGYPTIAN HIEROGLYPH A021 (man with arms raised)
          B: 'ìâó', // EGYPTIAN HIEROGLYPH O004 (palace facade)
          C: 'ìäñ', // EGYPTIAN HIEROGLYPH O010 (shrine)
          D: 'ìÄØ', // EGYPTIAN HIEROGLYPH A045 (seated nobleman)
          E: 'ìÉÄ', // EGYPTIAN HIEROGLYPH E012 (hippopotamus)
          F: 'ìÖ±', // EGYPTIAN HIEROGLYPH G043 (quail chick)
          G: 'ìäÖ', // EGYPTIAN HIEROGLYPH O036 (shrine)
          H: 'ìâê', // EGYPTIAN HIEROGLYPH N018 (house)
          I: 'ìÑø', // EGYPTIAN HIEROGLYPH D036 (forearm)
          J: 'ìÜ≠', // EGYPTIAN HIEROGLYPH H008 (frog)
          K: 'ìÉ†', // EGYPTIAN HIEROGLYPH E023 (lion)
          L: 'ìÇù', // EGYPTIAN HIEROGLYPH D037 (arm)
          M: 'ìÑã', // EGYPTIAN HIEROGLYPH F013 (cow's horn)
          N: 'ìÖØ', // EGYPTIAN HIEROGLYPH G041 (pintail)
          O: 'ìá≥', // EGYPTIAN HIEROGLYPH N005 (sun with rays)
          P: 'ìä§', // EGYPTIAN HIEROGLYPH P001 (sail)
          Q: 'ìãá', // EGYPTIAN HIEROGLYPH R004 (eye of Horus)
          R: 'ìÅ®', // EGYPTIAN HIEROGLYPH A015 (standing person)
          S: 'ìÜº', // EGYPTIAN HIEROGLYPH M008 (pool)
          T: 'ìåî', // EGYPTIAN HIEROGLYPH T011 (bread)
          U: 'ìÉü', // EGYPTIAN HIEROGLYPH E022 (ram)
          V: 'ìèú', // EGYPTIAN HIEROGLYPH V007A (knife)
          W: 'ìéõ', // EGYPTIAN HIEROGLYPH V001 (coil of rope)
          X: 'ìçø', // EGYPTIAN HIEROGLYPH U001 (sickle)
          Y: 'ìáã', // EGYPTIAN HIEROGLYPH M017 (reed)
          Z: 'ìè≠', // EGYPTIAN HIEROGLYPH W024 (union symbol)

          // Polish lowercase special characters - using distinctive hieroglyphs
          ƒÖ: 'ìÄ≠', // EGYPTIAN HIEROGLYPH A043A (man carrying)
          ƒá: 'ìâ°', // EGYPTIAN HIEROGLYPH O022 (shrine)
          ƒô: 'ìÅº', // EGYPTIAN HIEROGLYPH A026 (seated person)
          ≈Ç: 'ìÉæ', // EGYPTIAN HIEROGLYPH F042 (intestine)
          ≈Ñ: 'ìê≠', // EGYPTIAN HIEROGLYPH AA027 (phonetic sign)
          √≥: 'ìÖø', // EGYPTIAN HIEROGLYPH G054 (pintail)
          ≈õ: 'ìáë', // EGYPTIAN HIEROGLYPH M026 (plant)
          ≈∫: 'ìàá', // EGYPTIAN HIEROGLYPH N017 (pool)
          ≈º: 'ìéó', // EGYPTIAN HIEROGLYPH V007 (mace)

          // Polish uppercase special characters - using large, complex hieroglyphs
          ƒÑ: 'ìÉ•', // EGYPTIAN HIEROGLYPH E031 (composite animal)
          ƒÜ: 'ìÇÄ', // EGYPTIAN HIEROGLYPH D013 (eye)
          ƒò: 'ìä®', // EGYPTIAN HIEROGLYPH P005 (boat)
          ≈Å: 'ìÖÇ', // EGYPTIAN HIEROGLYPH G005 (falcon)
          ≈É: 'ìÅπ', // EGYPTIAN HIEROGLYPH A024 (man with stick)
          √ì: 'ìàé', // EGYPTIAN HIEROGLYPH N029 (canal)
          ≈ö: 'ìèõ', // EGYPTIAN HIEROGLYPH Y001 (scroll)
          ≈π: 'ìç¢', // EGYPTIAN HIEROGLYPH T018 (bread)
          ≈ª: 'ìéº', // EGYPTIAN HIEROGLYPH W003 (oil jar)
        };

        function polishToHieroglyphs(text) {
          return text.replace(/[a-zA-ZƒÖƒáƒô≈Ç≈Ñ√≥≈õ≈∫≈ºƒÑƒÜƒò≈Å≈É√ì≈ö≈π≈ª]/g, (char) => {
            return latinToHieroglyphMap[char] || char;
          });
        }

        function decipher(text, map) {
          let out = '';
          for (const symbol of text) {
            if (map[symbol]) {
              out += map[symbol];
            } else {
              out += symbol;
            }
          }
          return out;
        }

        function getKeycode() {
          let concatenatedText = '';

          $('.letter-input').each(function () {
            concatenatedText += $(this).val();
          });

          return concatenatedText;
        }

        function getCipher() {
          let cipher = {};
          $('.letter-input').each(function () {
            if ($(this).val()) {
              let hieroglyph = $(this).siblings('div.letter').text();
              cipher[hieroglyph] = $(this).val();
            }
          });
          return cipher;
        }

        const NAME = 'Hoppankhamun';
        const TEXT =
          'Witajcie, podr√≥≈ºnicy w czasie! Jam jest Hoppankhamun, faraon egipski zwany Stra≈ºnikiem Staro≈ºytnych Marchewek. Wiem, ≈ºe szukacie darowanego Wam Z≈Çotego Jaja. Musicie wiedzieƒá, ≈ºe zosta≈Ço ono stworzone przed wiekami w≈Çasnie tutaj - w Egipcie! Wyklu≈Ç je m√≥j serdeczny przyjaciel Skarabejaj... ale nie czas to i nie miejsce na stare historie. Z≈Çotego Jaja nie ma tu od lat. Wiem tylko, ≈ºe dawno temu trafi≈Ço na Kretƒô. Spr√≥bujcie zapytaƒá mojego przyjaciela Jajoletesa';

        $('#pharaoh-name').text(polishToHieroglyphs(NAME));
        $('.dialog-text').text(polishToHieroglyphs(TEXT));

        $('.letter-input').on('input', function () {
          let hieroglyph = $(this).siblings('div.letter').text();
          if (hieroglyph == latinToHieroglyphMap[$(this).val().toLowerCase()]) {
            $(this).addClass('solved');
          } else {
            $(this).removeClass('solved');
          }
          if (getKeycode().toLowerCase() == NAME.toLowerCase()) {
            $('#pharaoh-name').text(NAME);
            $('.dialog-text').text(TEXT);
            $('.nav-button').show();
          } else {
            $('#pharaoh-name').text(polishToHieroglyphs(NAME));
            $('.dialog-text').text(polishToHieroglyphs(TEXT));
            $('.nav-button').hide();
          }
        });

        const bunnies = [
          {
            name: 'Medieval Knight Bunny',
            dialog:
              'Hail, seeker of the Golden Egg! Sir Hopsalot at thy service. The royal court whispers of a treasure map hidden in the castle garden. Seek the emblem of the rose and thou shall find wisdom!',
            image: '/api/placeholder/400/320',
            hasClue: true,
            clueNumber: 2,
          },
          {
            name: 'Renaissance Bunny',
            dialog:
              "Buongiorno! I am Cottontail da Vinci, master of arts and carrots! The Golden Egg's location was encoded in my famous painting. Can you spot the hidden pattern in the stars?",
            image: '/api/placeholder/400/320',
            hasClue: true,
            clueNumber: 3,
          },
          {
            name: 'Victorian Era Bunny',
            dialog:
              'Good day to you! Professor Whiskers at your service. During my expeditions to the colonies, I uncovered ancient writings about the Golden Egg. The secret lies in the grandfather clock!',
            image: '/api/placeholder/400/320',
            hasClue: true,
            clueNumber: 4,
          },
          {
            name: 'Space Age Bunny',
            dialog:
              "Greetings, Earth friend! Commander Fluffy reporting from Bunny Base Alpha. Our telescopes have detected the final clue's location. The Golden Egg's hiding place aligns with the stars of the Big Dipper!",
            image: '/api/placeholder/400/320',
            hasClue: true,
            clueNumber: 5,
          },
        ];
      });
    </script>
  </body>
</html>
