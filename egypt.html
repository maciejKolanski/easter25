<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Egipski KrÃ³lik</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="game-container">
      <div class="header">
        <h1 id="pharaoh-name">Hoppankhamun</h1>
        <div>StraÅ¼nik StaroÅ¼ytnych Marchewek</div>
      </div>

      <div class="bunny-container">
        <img src="assets/egypt.jpg" alt="Historical Bunny" class="bunny-image" id="bunnyImage" />
      </div>
      <div class="ancient-header">
        <div style="font-size: 1.2rem">Deszyfrator</div>
        <div class="letter-puzzle">
          <div class="letter-group">
            <div class="letter">ğ“„¤</div>
            <input type="text" class="letter-input" maxlength="1" />
          </div>
          <div class="letter-group">
            <div class="letter">ğ“¯</div>
            <input type="text" class="letter-input" maxlength="1" />
          </div>
          <div class="letter-group">
            <div class="letter">ğ“Šª</div>
            <input type="text" class="letter-input" maxlength="1" />
          </div>
          <div class="letter-group">
            <div class="letter">ğ“Šª</div>
            <input type="text" class="letter-input" maxlength="1" />
          </div>
          <div class="letter-group">
            <div class="letter">ğ“€€</div>
            <input type="text" class="letter-input" maxlength="1" />
          </div>
          <div class="letter-group">
            <div class="letter">ğ“ˆ–</div>
            <input type="text" class="letter-input" maxlength="1" />
          </div>
          <div class="letter-group">
            <div class="letter">ğ“¡</div>
            <input type="text" class="letter-input" maxlength="1" />
          </div>
          <div class="letter-group">
            <div class="letter">ğ“„¤</div>
            <input type="text" class="letter-input" maxlength="1" />
          </div>
          <div class="letter-group">
            <div class="letter">ğ“€€</div>
            <input type="text" class="letter-input" maxlength="1" />
          </div>
          <div class="letter-group">
            <div class="letter">ğ“…“</div>
            <input type="text" class="letter-input" maxlength="1" />
          </div>
          <div class="letter-group">
            <div class="letter">ğ“‡‹</div>
            <input type="text" class="letter-input" maxlength="1" />
          </div>
          <div class="letter-group">
            <div class="letter">ğ“ˆ–</div>
            <input type="text" class="letter-input" maxlength="1" />
          </div>
        </div>
      </div>

      <div class="dialog-box">
        <div class="dialog-text" id="dialogText"></div>
      </div>

      <div class="navigation">
        <button class="nav-button hidden" id="greekButton">IdÅº do Jajoletesa!</button>
      </div>
    </div>

    <script>
      $(document).ready(function () {
        const latinToHieroglyphMap = {
          // English lowercase letters - using more visually distinct hieroglyphs
          a: 'ğ“€€', // EGYPTIAN HIEROGLYPH A001 (seated man)
          b: 'ğ“ƒ’', // EGYPTIAN HIEROGLYPH E001 (bull)
          c: 'ğ“†“', // EGYPTIAN HIEROGLYPH H006 (crocodile)
          d: 'ğ“‡¯', // EGYPTIAN HIEROGLYPH I010 (sun)
          e: 'ğ“…¨', // EGYPTIAN HIEROGLYPH G026 (falcon)
          f: 'ğ“†£', // EGYPTIAN HIEROGLYPH I001 (cobra)
          g: 'ğ“‰•', // EGYPTIAN HIEROGLYPH O002 (courtyard)
          h: 'ğ“„¤', // EGYPTIAN HIEROGLYPH F004 (ear)
          i: 'ğ“‚§', // EGYPTIAN HIEROGLYPH D046 (hand)
          j: 'ğ“†¼', // EGYPTIAN HIEROGLYPH I011 (reed leaf)
          k: 'ğ“¡', // EGYPTIAN HIEROGLYPH V012 (basket)
          l: 'ğ“‹´', // EGYPTIAN HIEROGLYPH S029 (folded cloth)
          m: 'ğ“…“', // EGYPTIAN HIEROGLYPH G001 (vulture)
          n: 'ğ“ˆ–', // EGYPTIAN HIEROGLYPH N035 (water ripple)
          o: 'ğ“¯', // EGYPTIAN HIEROGLYPH T023 (loaf)
          p: 'ğ“Šª', // EGYPTIAN HIEROGLYPH Q003 (stool)
          q: 'ğ“ƒ»', // EGYPTIAN HIEROGLYPH F001 (heart)
          r: 'ğ“‚‹', // EGYPTIAN HIEROGLYPH D021 (mouth)
          s: 'ğ“Šƒ', // EGYPTIAN HIEROGLYPH O034 (door bolt)
          t: 'ğ“', // EGYPTIAN HIEROGLYPH X001 (loaf)
          u: 'ğ“‡‹', // EGYPTIAN HIEROGLYPH M017 (reed)
          v: 'ğ“†±', // EGYPTIAN HIEROGLYPH M001 (tree)
          w: 'ğ“Œ…', // EGYPTIAN HIEROGLYPH T003 (mace)
          x: 'ğ“', // EGYPTIAN HIEROGLYPH Z015 (crossed sticks)
          y: 'ğ“‡Œ', // EGYPTIAN HIEROGLYPH M017A (two reeds)
          z: 'ğ“´', // EGYPTIAN HIEROGLYPH Z009 (dual strokes)

          // English uppercase letters - using larger, more prominent hieroglyphs
          A: 'ğ“¶', // EGYPTIAN HIEROGLYPH A021 (man with arms raised)
          B: 'ğ“‰—', // EGYPTIAN HIEROGLYPH O004 (palace facade)
          C: 'ğ“Š–', // EGYPTIAN HIEROGLYPH O010 (shrine)
          D: 'ğ“€¯', // EGYPTIAN HIEROGLYPH A045 (seated nobleman)
          E: 'ğ“ƒ€', // EGYPTIAN HIEROGLYPH E012 (hippopotamus)
          F: 'ğ“…±', // EGYPTIAN HIEROGLYPH G043 (quail chick)
          G: 'ğ“Š…', // EGYPTIAN HIEROGLYPH O036 (shrine)
          H: 'ğ“‰', // EGYPTIAN HIEROGLYPH N018 (house)
          I: 'ğ“„¿', // EGYPTIAN HIEROGLYPH D036 (forearm)
          J: 'ğ“†­', // EGYPTIAN HIEROGLYPH H008 (frog)
          K: 'ğ“ƒ ', // EGYPTIAN HIEROGLYPH E023 (lion)
          L: 'ğ“‚', // EGYPTIAN HIEROGLYPH D037 (arm)
          M: 'ğ“„‹', // EGYPTIAN HIEROGLYPH F013 (cow's horn)
          N: 'ğ“…¯', // EGYPTIAN HIEROGLYPH G041 (pintail)
          O: 'ğ“‡³', // EGYPTIAN HIEROGLYPH N005 (sun with rays)
          P: 'ğ“Š¤', // EGYPTIAN HIEROGLYPH P001 (sail)
          Q: 'ğ“‹‡', // EGYPTIAN HIEROGLYPH R004 (eye of Horus)
          R: 'ğ“¨', // EGYPTIAN HIEROGLYPH A015 (standing person)
          S: 'ğ“†¼', // EGYPTIAN HIEROGLYPH M008 (pool)
          T: 'ğ“Œ”', // EGYPTIAN HIEROGLYPH T011 (bread)
          U: 'ğ“ƒŸ', // EGYPTIAN HIEROGLYPH E022 (ram)
          V: 'ğ“œ', // EGYPTIAN HIEROGLYPH V007A (knife)
          W: 'ğ“›', // EGYPTIAN HIEROGLYPH V001 (coil of rope)
          X: 'ğ“¿', // EGYPTIAN HIEROGLYPH U001 (sickle)
          Y: 'ğ“‡‹', // EGYPTIAN HIEROGLYPH M017 (reed)
          Z: 'ğ“­', // EGYPTIAN HIEROGLYPH W024 (union symbol)

          // Polish lowercase special characters - using distinctive hieroglyphs
          Ä…: 'ğ“€­', // EGYPTIAN HIEROGLYPH A043A (man carrying)
          Ä‡: 'ğ“‰¡', // EGYPTIAN HIEROGLYPH O022 (shrine)
          Ä™: 'ğ“¼', // EGYPTIAN HIEROGLYPH A026 (seated person)
          Å‚: 'ğ“ƒ¾', // EGYPTIAN HIEROGLYPH F042 (intestine)
          Å„: 'ğ“­', // EGYPTIAN HIEROGLYPH AA027 (phonetic sign)
          Ã³: 'ğ“…¿', // EGYPTIAN HIEROGLYPH G054 (pintail)
          Å›: 'ğ“‡‘', // EGYPTIAN HIEROGLYPH M026 (plant)
          Åº: 'ğ“ˆ‡', // EGYPTIAN HIEROGLYPH N017 (pool)
          Å¼: 'ğ“—', // EGYPTIAN HIEROGLYPH V007 (mace)

          // Polish uppercase special characters - using large, complex hieroglyphs
          Ä„: 'ğ“ƒ¥', // EGYPTIAN HIEROGLYPH E031 (composite animal)
          Ä†: 'ğ“‚€', // EGYPTIAN HIEROGLYPH D013 (eye)
          Ä˜: 'ğ“Š¨', // EGYPTIAN HIEROGLYPH P005 (boat)
          Å: 'ğ“…‚', // EGYPTIAN HIEROGLYPH G005 (falcon)
          Åƒ: 'ğ“¹', // EGYPTIAN HIEROGLYPH A024 (man with stick)
          Ã“: 'ğ“ˆ', // EGYPTIAN HIEROGLYPH N029 (canal)
          Åš: 'ğ“›', // EGYPTIAN HIEROGLYPH Y001 (scroll)
          Å¹: 'ğ“¢', // EGYPTIAN HIEROGLYPH T018 (bread)
          Å»: 'ğ“¼', // EGYPTIAN HIEROGLYPH W003 (oil jar)
        };

        function polishToHieroglyphs(text) {
          return text.replace(/[a-zA-ZÄ…Ä‡Ä™Å‚Å„Ã³Å›ÅºÅ¼Ä„Ä†Ä˜ÅÅƒÃ“ÅšÅ¹Å»]/g, (char) => {
            return latinToHieroglyphMap[char] || char;
          });
        }

        function decipher(text, map) {
          let out = '';
          for (const symbol of text) {
            if (map[symbol]) {
              out += map[symbol];
            } else {
              out += symbol;
            }
          }
          return out;
        }

        function getKeycode() {
          let concatenatedText = '';

          $('.letter-input').each(function () {
            concatenatedText += $(this).val();
          });

          return concatenatedText;
        }

        function getCipher() {
          let cipher = {};
          $('.letter-input').each(function () {
            if ($(this).val()) {
              let hieroglyph = $(this).siblings('div.letter').text();
              cipher[hieroglyph] = $(this).val();
            }
          });
          return cipher;
        }

        const NAME = 'Hoppankhamun';
        const TEXT =
          'Witajcie, podrÃ³Å¼nicy w czasie! Jam jest Hoppankhamun, faraon egipski zwany StraÅ¼nikiem StaroÅ¼ytnych Marchewek. Wiem, Å¼e szukacie darowanego Wam ZÅ‚otego Jaja. Musicie wiedzieÄ‡, Å¼e zostaÅ‚o ono stworzone przed wiekami wÅ‚asnie tutaj - w Egipcie! WykluÅ‚ je mÃ³j serdeczny przyjaciel Skarabejaj... ale nie czas to i nie miejsce na stare historie. ZÅ‚otego Jaja nie ma tu od lat. Wiem tylko, Å¼e dawno temu trafiÅ‚o na KretÄ™. SprÃ³bujcie zapytaÄ‡ mojego przyjaciela Jajoletesa';

        $('#pharaoh-name').text(polishToHieroglyphs(NAME));
        $('.dialog-text').text(polishToHieroglyphs(TEXT));
        $('#greekButton').on('click', () => {
          // Get the current URL
          let currentUrl = window.location.href;

          // Remove trailing slash if it exists
          if (currentUrl.endsWith('/')) {
            currentUrl = currentUrl.slice(0, -1);
          }

          // Find the last slash
          const lastSlashIndex = currentUrl.lastIndexOf('/');

          if (lastSlashIndex !== -1) {
            window.location = currentUrl.substring(0, lastSlashIndex) + '/greek.html';
          } else {
            window.location = currentUrl + '/greek.html';
          }
        });

        $('.letter-input').on('input', function () {
          let hieroglyph = $(this).siblings('div.letter').text();
          if (hieroglyph == latinToHieroglyphMap[$(this).val().toLowerCase()]) {
            $(this).addClass('solved');
          } else {
            $(this).removeClass('solved');
          }
          if (getKeycode().toLowerCase() == NAME.toLowerCase()) {
            $('#pharaoh-name').text(NAME);
            $('.dialog-text').text(TEXT);
            $('.nav-button').show();
          } else {
            $('#pharaoh-name').text(polishToHieroglyphs(NAME));
            $('.dialog-text').text(polishToHieroglyphs(TEXT));
            $('.nav-button').hide();
          }
        });
      });
    </script>
  </body>
</html>
